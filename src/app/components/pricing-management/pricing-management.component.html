<div class="header d-flex mb-2">
  <div class="input-group flex-nowrap">
    <label class="text-light d-flex align-items-center px-3 fw-bold input-group-text">Supplier</label>
    <input type="text" class="form-control me-1">
  </div>
  <div class="input-group flex-nowrap">
    <label class="text-light d-flex align-items-center px-3 fw-bold input-group-text">Type</label>
    <ngx-select class="flex-grow-1 me-1" [allowClear]="false" (selectionChanges)="onSelectionChange($event)"
      [items]="['Lịch lẻ', 'Lịch tuyến']" [defaultValue]="isFirstType?['Lịch lẻ']:['Lịch tuyến']">
    </ngx-select>
  </div>
  <div class="input-group flex-nowrap">
    <label class="text-light d-flex align-items-center px-3 fw-bold input-group-text">Search range</label>
    <input type="date" class="form-control" value="2025-09-01" ngbDatepicker #d1="ngbDatepicker" (click)="d1.open()">
    <span class="input-group-text">to</span>
    <input type="date" class="form-control me-1" value="2025-09-20" ngbDatepicker #d2="ngbDatepicker"
      (click)="d2.open()">
  </div>
  <button class="btn btn-primary d-flex align-items-center">
    <fa-icon [icon]="faGlass"></fa-icon>
    <span class="ms-1">Search</span>
  </button>
</div>
<div class="card">
  <div class="card-header">
    <div class="d-flex gap-1" ngbDropdown>
      <button class="btn btn-primary-alt" (click)="openModal()">
        <fa-icon [icon]="faPlus"></fa-icon>
        <span class="ms-1">Add</span>
      </button>
      <button class="btn btn-success-alt" (click)="openModal()">
        <fa-icon [icon]="faPenToSquare"></fa-icon>
        <span class="ms-1">Edit</span></button>
      <button #btnDeleteMaster class="btn btn-danger-alt">
        <fa-icon [icon]="faTrash"></fa-icon>
        <span class="ms-1">Delete</span></button>
      <button #btnDeleteMaster id="btn_import" class="btn btn-primary" ngbDropdownToggle>
        <fa-icon [icon]="faImport"></fa-icon>
        <span class="ms-1">Import</span></button>
      <div ngbDropdownMenu aria-labelledby="btn_import" class="file-upload-card">
        <label class="file-label">
          <span>Select a file:</span>
          <input type="file" class="form-control">
        </label>
        <div class="progress" role="progressbar" aria-label="Example with label" aria-valuenow="25" aria-valuemin="0"
          aria-valuemax="100">
          <div class="progress-bar progress-bar-striped progress-bar-animated" style="width: 25%">25%</div>
        </div>
      </div>
      <button #btnDeleteMaster class="btn btn-success">
        <fa-icon [icon]="faExport"></fa-icon>
        <span class="ms-1">Export</span></button>
    </div>
  </div>
  <div class="card-body">
    <div class="overflow-auto">
      @if(isFirstType){
      <table class="table table-bordered table-sm table-striped border-primary text-center">
        <colgroup>
          <col class="col-stt">
          <col class="col-supplier">
          <col class="col-area">
          <col class="col-route">
          <col class="col-price">
          <col class="col-start">
          <col class="col-end">
          <col class="col-note">
        </colgroup>
        <thead class="table-primary fw-bold small text-start">
          <tr>
            <th>STT</th>
            <th>Tên nhà cung cấp</th>
            <th>Khu vực</th>
            <th>Tên tuyến</th>
            <th>Đơn giá/lượt</th>
            <th>Thời gian bắt đầu hiệu lực</th>
            <th>Thời gian kết thúc hiệu lực</th>
            <th>Lưu ý</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Lotte</td>
            <td>Ngoại thành Hải Phòng</td>
            <td>Nam Am - B16</td>
            <td>913,699.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>2</td>
            <td>Lotte</td>
            <td>Ngoại thành Hải Phòng</td>
            <td>Nam Am</td>
            <td>912,544.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>3</td>
            <td>Lotte</td>
            <td>Thái Bình</td>
            <td>Thái Thụy</td>
            <td>885,486.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>4</td>
            <td>Lotte</td>
            <td>Ngoại thành Hải Phòng</td>
            <td>Bến xe Vĩnh Bảo</td>
            <td>694,039.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>5</td>
            <td>Lotte</td>
            <td>Ngoại thành Hải Phòng</td>
            <td>Hà Phương</td>
            <td>595,447.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>6</td>
            <td>Lotte</td>
            <td>Thái Bình</td>
            <td>Thái Bình</td>
            <td>1,089,738.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>7</td>
            <td>Lotte</td>
            <td>Thái Bình</td>
            <td>Ngã Ba Đọi</td>
            <td>798,923.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>8</td>
            <td>Lotte</td>
            <td>Thái Bình</td>
            <td>Hưng Hà</td>
            <td>958,835.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>9</td>
            <td>Lotte</td>
            <td>Thái Bình</td>
            <td>Quỳnh Côi - An Đồng</td>
            <td>767,923.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>10</td>
            <td>Lotte</td>
            <td>Hải Dương</td>
            <td>Ninh Giang</td>
            <td>730,107.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>11</td>
            <td>Lotte</td>
            <td>Hải Dương</td>
            <td>Tứ Kỳ</td>
            <td>936,524.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>12</td>
            <td>Kumho</td>
            <td>Nội thành Hải Phòng</td>
            <td>TD Plaza</td>
            <td>640,833.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>13</td>
            <td>Kumho</td>
            <td>Nội thành Hải Phòng</td>
            <td>Cát Bi Plaza</td>
            <td>731,110.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>14</td>
            <td>Kumho</td>
            <td>Nội thành Hải Phòng</td>
            <td>Cầu Rào</td>
            <td>675,291.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
          <tr>
            <td>15</td>
            <td>Kumho</td>
            <td>Nội thành Hải Phòng</td>
            <td>Lạch Tray</td>
            <td>858,142.00</td>
            <td>1-Jul-2025</td>
            <td>30-Sep-2025</td>
            <td></td>
          </tr>
        </tbody>
      </table>
      }
      @else {
      <table class="table table-bordered table-sm table-striped border-primary text-center">
        <colgroup>
          <col class="col-stt">
          <col class="col-type">
          <col class="col-cat">
          <col class="col-price">
          <col class="col-start">
          <col class="col-end">
          <col class="col-note">
        </colgroup>
        <thead class="table-primary fw-bold small text-start">
          <tr>
            <th>STT</th>
            <th>Loại xe</th>
            <th>Cat</th>
            <th>Đơn giá</th>
            <th>Thời gian bắt đầu hiệu lực</th>
            <th>Thời gian kết thúc hiệu lực</th>
            <th>Lưu ý</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>1</td>
            <td>Limousine 9 chỗ</td>
            <td>Sử dụng/ngày &lt; 30km</td>
            <td>2,000,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>2</td>
            <td>Limousine 9 chỗ</td>
            <td>30km ≤ Sử dụng/ngày &lt; 50km</td>
            <td>2,500,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>3</td>
            <td>Limousine 9 chỗ</td>
            <td>50km ≤ Sử dụng/ngày &lt; 100km</td>
            <td>3,200,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>4</td>
            <td>Limousine 9 chỗ</td>
            <td>100km ≤ Sử dụng/ngày</td>
            <td>4,000,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>5</td>
            <td>Limousine 9 chỗ</td>
            <td>Ngoài giờ</td>
            <td>100,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>6</td>
            <td>Limousine 9 chỗ</td>
            <td>Vượt Km</td>
            <td>10,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>7</td>
            <td>Limousine 9 chỗ</td>
            <td>Phí qua đêm</td>
            <td>300,310</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>8</td>
            <td>16 chỗ</td>
            <td>Sử dụng/ngày &lt; 30km</td>
            <td>414,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>9</td>
            <td>16 chỗ</td>
            <td>30km ≤ Sử dụng/ngày &lt; 50km</td>
            <td>690,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>10</td>
            <td>16 chỗ</td>
            <td>50km ≤ Sử dụng/ngày &lt; 100km</td>
            <td>1,380,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>11</td>
            <td>16 chỗ</td>
            <td>100km ≤ Sử dụng/ngày</td>
            <td>1,449,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>12</td>
            <td>16 chỗ</td>
            <td>Ngoài giờ</td>
            <td>90,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>13</td>
            <td>16 chỗ</td>
            <td>Vượt Km</td>
            <td>8,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>14</td>
            <td>16 chỗ</td>
            <td>Phí qua đêm</td>
            <td>300,310</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
          <tr>
            <td>15</td>
            <td>29 chỗ</td>
            <td>Sử dụng/ngày &lt; 30km</td>
            <td>600,000</td>
            <td>1-Jan-2025</td>
            <td>31/12/2025</td>
            <td></td>
          </tr>
        </tbody>
      </table>
      }
    </div>
  </div>
</div>
<ng-template #content let-modal>
  <div class="modal-header">
    <h4 class="modal-title" id="modal-area">Pricing management</h4>
    <button type="button" class="btn-close btn-close-white" aria-label="Close"
      (click)="modal.dismiss('Cross click')"></button>
  </div>
  <div class="modal-body">
    <form>
      @if(isFirstType){
      <div class="container">
        <div class="row mb-2">
          <label class="col-form-label  fw-bold" for="route_type">Nhà cung cấp</label>
          <div class="input">
            <ngx-select id="route_type" [allowClear]="true" [items]="['Supplier 1','Supplier 2','Supplier 3']">
            </ngx-select>
          </div>
          <label class="col-form-label  fw-bold" for="area">Khu vực</label>
          <div class="input">
            <ngx-select id="area" [allowClear]="true"
              [items]="['Inner Haiphong','Suburban Haiphong','Other Provinces']">
            </ngx-select>
          </div>
        </div>
        <div class="row mb-2">
          <label class="col-form-label  fw-bold" for="route_name">Tên tuyến</label>
          <div class="input">
            <ngx-select id="route_name" [allowClear]="true" [items]="['Route 1','Route 2','Route 3']">
            </ngx-select>
          </div>
          <label class="col-form-label  fw-bold" for="route_name">Giá/lượt</label>
          <div class="input">
            <input class="form-control">
          </div>
        </div>
        <div class="row mb-2">
          <label class="col-form-label  fw-bold" for="start">TG bắt đầu</label>
          <div class="input">
            <input type="date" class="form-control" id="start" value="2025-09-01">
          </div>
          <label class="col-form-label  fw-bold" for="end">TG kết thúc</label>
          <div class="input">
            <input type="date" class="form-control" id="end" value="2025-09-20">
          </div>
        </div>
        <div class="row mb-2">
          <label class="col-form-label  fw-bold" for="note">Lưu ý</label>
          <div class="input">
            <textarea class="form-control" id="note" style="height: 150px"></textarea>
          </div>
        </div>
      </div>
      }
      @else {
      <div class="container">
        <div class="row mb-2">
          <label class="col-form-label type-2 fw-bold" for="route_type">Loại xe</label>
          <div class="input">
            <ngx-select id="route_type" [allowClear]="true">
            </ngx-select>
          </div>
          <label class="col-form-label type-2 fw-bold" for="area" style="width: 50px">Cat</label>
          <div class="input">
            <ngx-select id="area" [allowClear]="true">
            </ngx-select>
          </div>
          <label class="col-form-label type-2 fw-bold" for="route_name" style="width: 85px">Giá/lượt</label>
          <div class="input">
            <input class="form-control">
          </div>
        </div>
        <div class="row mb-2">
          <label class="col-form-label type-2 fw-bold" for="start">TG bắt đầu</label>
          <div class="input">
            <input type="date" class="form-control" id="start" value="2025-09-01">
          </div>
          <label class="col-form-label type-2 fw-bold" for="end">TG kết thúc</label>
          <div class="input">
            <input type="date" class="form-control" id="end" value="2025-09-20">
          </div>
        </div>
        <div class="row mb-2">
          <label class="col-form-label type-2 fw-bold" for="note">Lưu ý</label>
          <div class="input">
            <textarea class="form-control" id="note" style="height: 150px"></textarea>
          </div>
        </div>
      </div>
      }
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary">Save</button>
  </div>
</ng-template>
